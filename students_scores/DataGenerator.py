import random
import yaml

# Список русских фамилий и имен
names = [
    "Иванов Андрей", "Петров Сергей", "Смирнов Дмитрий", "Кузнецов Алексей", "Васильев Евгений",
    "Попов Михаил", "Лебедев Кирилл", "Новиков Артём", "Морозов Владислав", "Волков Никита",
    "Алексеев Егор", "Лебедев Илья", "Степанов Тимур", "Николаев Максим", "Семёнов Даниил",
    "Соколов Григорий", "Михайлов Алексей", "Беляев Егор", "Медведев Артём", "Кузьмин Кирилл",
    "Фёдоров Дмитрий", "Дмитриев Сергей", "Егоров Алексей", "Ковалёв Евгений", "Кузьминов Михаил",
    "Макаров Кирилл", "Мельников Артём", "Назаров Владислав", "Орлов Никита", "Павлов Егор",
    "Панов Илья", "Поляков Тимур", "Прохоров Максим", "Романов Даниил", "Савельев Григорий",
    "Сергеев Алексей", "Смирнов Егор", "Соколов Артём", "Тимофеев Владислав", "Тихонов Никита",
    "Трофимов Егор", "Фёдоров Илья", "Чернов Тимур", "Чернышёв Максим", "Шестаков Даниил",
    "Щукин Григорий", "Юдин Алексей", "Яковлев Егор", "Зайцев Артём", "Калашников Владислав",
    "Комаров Никита", "Королёв Егор", "Костин Илья", "Кудрявцев Тимур", "Лазарев Максим",
    "Лебедев Даниил", "Лисицын Григорий", "Лобанов Алексей", "Лукин Егор", "Лысов Артём",
    "Макаров Владислав", "Марков Никита", "Матвеев Егор", "Мельников Илья", "Мишин Тимур",
    "Михайлов Максим", "Морозов Даниил", "Назаров Григорий", "Никифоров Алексей", "Носков Егор",
    "Образцов Артём", "Орлов Владислав", "Осипов Никита", "Павлов Егор", "Павлов Илья",
    "Панов Тимур", "Панфилов Максим", "Петров Даниил", "Платонов Григорий", "Попов Алексей",
    "Попов Егор", "Попов Артём", "Потапов Владислав", "Прокофьев Никита", "Родионов Егор",
    "Романов Илья", "Рыжов Тимур", "Савельев Максим", "Семёнов Даниил", "Сергеев Григорий",
    "Сидоров Алексей", "Смирнов Егор", "Смирнов Артём", "Соколов Владислав", "Соколов Никита",
    "Соколов Егор", "Соломатин Илья", "Степанов Тимур", "Степанов Максим", "Смирнов Даниил",
    "Тарасов Григорий", "Терентьев Алексей", "Тихонов Егор", "Толстов Артём", "Томилов Владислав",
    "Трофимов Никита", "Трофимов Егор", "Туров Илья", "Тюменев Тимур", "Уваров Максим",
    "Усманов Даниил", "Фёдоров Григорий", "Федотов Алексей", "Федотов Егор", "Фёдоров Артём",
    "Филиппов Владислав", "Фомин Никита", "Харитонов Егор", "Хохряков Илья", "Хомутов Тимур",
    "Хорошилов Максим", "Цветков Даниил", "Чернов Григорий",
    "Иванова Анна", "Петрова Светлана", "Смирнова Мария", "Кузнецова Екатерина", "Васильева Елена",
    "Попова Ольга", "Лебедева Анна", "Новикова Екатерина", "Морозова Ксения", "Волкова Юлия",
    "Алексеева Виктория", "Лебедева Елена", "Степанова Татьяна", "Николаева Мария", "Семёнова Дарья",
    "Соколова Екатерина", "Михайлова Елена", "Беляева Дарья", "Медведева Екатерина", "Кузьмина Кристина",
    "Фёдорова Надежа", "Дмитриева Александра", "Егорова Анастасия", "Ковалёва Екатерина", "Кузьмина Ксения",
    "Макарова Елена", "Мельникова Анастасия", "Назарова Екатерина", "Орлова Елена", "Павлова Анастасия",
    "Панова Екатерина", "Панфилова Дарьяна", "Петрова Екатерина", "Попова Елена", "Потапова Анастасия",
    "Прокофьева Екатерина", "Родионова Елена","Щукина Екатерина", "Щукина Елена", "Щукина Анна"
    "Романова Анастасия", "Рыжова Елена", "Савельева Анастасия", "Семёнова Дарьяна", "Сергеева Елена",
    "Соколова Екатерина", "Смирнова Дарьяна", "Тарасова Елена", "Тихонова Екатерина", "Толстова Дарьяна",
    "Трофимова Екатерина", "ТуроваСофия", "Тюменева Елена", "Уварова Екатерина", "Усманова Анастасия",
    "Фёдорова Елена", "Федотова Анастасия", "Федотова Елена", "Филиппова Екатерина", "Фомина Елена",
    "Харитонова Елена", "Хохрякова Екатерина", "Хомутова Елена", "Хорошилова Екатерина", "Цветкова Дарьяна",
]

# Список дисциплин
disciplines = [
    "Английский", "Информатика", "Базы данных", "Системная инженерия", "Дискретная математика", "Линейная алгебра",
    "Математическая логика", "Математический анализ", "Системный анализ", "Социология", "Моделирование систем",
    "Операционные системы", "Физика", "Электротехника", "Вычислительная математика", "Теория вероятности",
    "Компьютерная лингвистика", "Методы оптимизации", "Сети и телекоммуникации", "Компьютерная графика",
    "Компьютерное зрение", "Машинное обучение", "Экономика программного проекта", "Параллельные и распределенные вычисления",
    "Системы геометрического моделирования", "Защита информации", "Системы искусственного интеллекта",
    "Основы системной инженерии", "Киберправо", "Механика робототехнических систем", "Киберфизические системы",
    "Основы инженерного творчества", "Программная инженерия", "Управление проектами", "Тестирование и оценка кач-ва ПО",
    "Системная инжеренерия"
]

def generate_data(num_records):
    data = []
    student_disciplines = {}

    for _ in range(num_records):
        name = random.choice(names)
        if name not in student_disciplines:
            student_disciplines[name] = set()

        # Выбираем дисциплину, которая еще не была назначена этому студенту
        available_disciplines = [d for d in disciplines if d not in student_disciplines[name]]
        if not available_disciplines:
            continue  # Если все дисциплины уже назначены, пропускаем эту итерацию

        discipline = random.choice(available_disciplines)
        score = random.randint(61, 100)

        record = {
            "-model": "students_scores.student",
            "fields": {
                "name": name,
                "discipline": discipline,
                "score": score
            }
        }
        data.append(record)

        # Добавляем дисциплину к списку уже назначенных для этого студента
        student_disciplines[name].add(discipline)

    return data

def write_to_yaml(data, filename):
    with open(filename, 'w', encoding='utf-8') as file:
        yaml.dump(data, file, allow_unicode=True)

# Генерируем 10 записей и записываем их в файл
num_records = 10000
data = generate_data(num_records)
write_to_yaml(data, 'fixtures/students_scores.yaml')

print(f"Сгенерировано {num_records} записей и записано в файл 'students_scores.yaml'")